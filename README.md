<<<<<<< HEAD
![Pollination Robot](pollination robot.png)
这里我们主要对机器人做一个室内的展示，演示机器人的工作方式，
1.首先采用眼在手上的相机布置模式，这有利于扩大识别范围，实现广域条件下授粉，其次能缓解机械臂本身带来的遮挡问题。
2.载入防碰撞程序，机械臂从任意位置启动，利用moveJ命令使机械臂逼近拍照位置。
3.利用moveL IK 对机械臂拍照位置求逆解，使得机械臂在笛卡尔坐标系下，运动到拍照点。
4.启动realsense相机，等待几秒，稳定曝光和白平衡，这里指的是深度和RGB相机，RGB相机拍照后，载入yolov8 tiny 的模型，对目标对象进行识别，这里仅做展示用，我们利用了统合clip的目标检测模型，自动生成标注框。
5.获取RGB图上坐标后，将其映射到深度图像，利用深度值计算出真实的XY坐标，这里已经通过内置函数将深度图像对齐到RGB图像，因为深度图像的FOV大于RGB所以并不会有像素损失。
6.将获取的坐标进行空间筛选后，利用贪心算法进行空间路径规划，获取局部最优的路径，后续会对齐改进，保证推理速度的同时尝试全局路径最优的算法。
7.将坐标发送给机械臂，因为我们限制了工作象限，机械臂的解按照最短路径执行即可，不会发生异位卡死的问题。这里我们依然使用笛卡尔坐标求逆解的方法，在坐标传递前，已对齐进行了矩阵转换，确保喷头运动到预定坐标。这里喷头使用的时候PLC驱动，通过NPN结实现和UR控制柜的信号触发。
8.当第一象限工作完成后，机械臂途径过度点运动到第二象限，重复上述步骤，遍历完每个象限后回到初始位置，或者停留在第一象限，机器人运动到下一覆盖路径规划区域，再进行授粉。

局限性：
1.因为机械臂结构原因，上方200mm直径范围无法进行授粉作业，未来可以考虑路径规划时，考虑这个因素。
2.目前机械人尝试过UWB和视觉导航，效果不理想，未来将测试mid-70激光雷达导航。
3.猕猴桃地面起垄对于机器人运动有影响，因采用履带方案，机器人在运动到起垄位置时会发生侧倾现象，虽然不会影响授粉精准度，但会降低工作范围，未来会对机器人轮系结构进行调整。
4.目前没有对全局授粉路径和作业方式进行研究，在这些基本技术问题解决后，未来会去探索机器人全局最优授粉方法。
=======
![Alt Text](images/pollination robot.jpg)

>>>>>>> 6d5e1e2ece8bb1d0ced85fa134a342e3d66c4bbb
